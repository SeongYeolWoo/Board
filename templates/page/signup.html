{% extends 'common/base.html' %}

{% block content %} 
<!-- 메시지 값을 출력 -->
{% for message in messages %}
<div class="alert alert-primary" role="alert">
    {{ message }}    
</div>
{% endfor %}
<div class="card">
    <div class="'card-body">
        <!-- 해당 내용을 POST메소드로 전달 -->
        <form method="post" id="signup_form">
            {% csrf_token %}
            <div class="row text-center" style="margin-top: 10px;">
                <div class="col">
                    <label class="form-label">아이디</label>
                    <input class="form-control" name="username" id="username" type="text">
                </div>
            </div>
            <div class="row text-center" style="margin-top: 10px;">
                <div class="col">
                    <label class="form-label">비밀번호</label>
                    <input class="form-control" name="password" id="password" type="password">
                </div>
            </div>
            <div class="row text-center" style="margin-top: 10px;">
                <div class="col">
                    <label class="form-label">비밀번호 확인</label>
                    <input class="form-control" name = "chk_password" id="chk_password" type="password">
                </div>
            </div>
            <div class="row text-center" style="margin-top: 10px;">
                <div class="col">
                    <label class="form-label">닉네임</label>
                    <input class="form-control" name = "nickname" type="text" id="nickname">
                </div>
            </div>
        </form>
        <div class="row text-end" style="margin-top: 10px;">
            <div class="col">
                <a style='color:black;font-weight: bold;'class='fs-5 text-decoration-none m-3' id = "sign_btn">회원가입</button>
            </div>
        </div>
    </div>
</div>
<script>
    // ID로 값을 가져옴
    let sign_btn = document.getElementById('sign_btn');
    let username = document.getElementById('username');
    let password = document.getElementById('password');
    let chk_password = document.getElementById('chk_password');
    let nickname = document.getElementById('nickname');
    let signup_form = document.getElementById('signup_form');

    // 값 점검 후 POST메소드 호출
    sign_btn.addEventListener('click', () => {
        if (!username.value){
            alert("아이디를 입력해주세요");
            return false;
        }
        if (!password.value){
            alert("비밀번호를 입력해주세요");
            return false;
        }
        if (password.value !== chk_password.value){
            alert("비밀번호를 확인해주세요");
            return false;
        }
        if (!nickname.value){
            alert("닉네임를 입력해주세요");
            return false;
        }
        signup_form.submit();
    });
</script>
{% endblock %}